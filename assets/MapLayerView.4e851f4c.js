import{D as _}from"./Dropdown.3af3df1e.js";import{_ as h,N as f,b as w,d as L,f as E,K as y,o as M,c as x,a as s,k as i,u as g,l as r,a0 as p,h as u,z as A,A as V}from"./index.308dbe2e.js";import{B as d,M as j}from"./mapbox-layer.d05c4a7c.js";import{S as T}from"./scatterplot-layer.1f1d96a1.js";import{r as k}from"./hidden.8c8cf137.js";import{r as N}from"./HomeIcon.2cfa9264.js";import"./layer.6384b77b.js";const B=n=>(A("data-v-1d55e80a"),n=n(),V(),n),D={class:"flex-grow flex flex-row"},O={class:"flex-grow bg-slate-200 relative"},R={class:"absolute top-0 right-0 p-2"},P={class:"w-80 bg-slate-400 p-2"},I=B(()=>s("h2",null,"Map Options",-1)),C={__name:"MapLayerView",setup(n){f.accessToken="pk.eyJ1IjoiZmlsb25pay10dWQiLCJhIjoiY2xhbDl5YTQ4MDM5NDNvcXZtcGZjbjBicCJ9.gL_9d4Ij6g9PaSWKOuhhKw";const S={longitude:-74.5,latitude:40,zoom:12,pitch:0,bearing:0},m=w(null),b=w(null),c=[{name:"Albers",value:"albers"},{name:"Equal Earth",value:"equalEarth"},{name:"Equirectangular",value:"equirectangular"},{name:"Lambert",value:"lambertConformalConic"},{name:"Mercator",value:"mercator"},{name:"Natural Earth",value:"naturalEarth"},{name:"Winkel Tripel",value:"winkelTripel"},{name:"Globe",value:"globe"}],v=[{name:"Dark Matter",value:d.DARK_MATTER_NOLABELS},{name:"Positron",value:d.POSITRON_NOLABELS},{name:"Voyager",value:d.VOYAGER_NOLABELS}],t=L({map:{options:{projection:{title:"Projection",options:c,value:c[4]},style:{title:"Style",options:v,value:v[0]}}},viewState:{...S}});let l;return E(()=>{l=new f.Map({container:m.value,projection:{name:"mercator"},style:d.DARK_MATTER_NOLABELS,center:[t.viewState.longitude,t.viewState.latitude],bearing:t.viewState.bearing,pitch:t.viewState.pitch,zoom:t.viewState.zoom,preserveDrawingBuffer:!0});const o=new j({id:"my-scatterplot",type:T,data:[{position:[-74.5,40],size:100}],radiusScale:6,radiusMinPixels:3,radiusMaxPixels:9,getPosition:a=>a.position,getRadius:a=>a.size,getColor:[255,0,0]});l.on("load",()=>{l.addLayer(o)})}),y(()=>t.map.options.projection.value,o=>{l&&l.setProjection(o.value)}),y(()=>t.map.options.style.value,o=>{l&&l.setStyle(o.value)}),(o,a)=>(M(),x("div",D,[s("main",O,[s("div",{class:"bg-stone-800 h-full w-full",ref_key:"containerRef",ref:m},null,512),s("div",R,[s("a",{class:"mx-2",ref_key:"downloadRef",ref:b},[s("button",{onClick:a[0]||(a[0]=e=>o.download("plot.png"))},[i(g(k),{class:"text-white h-6 w-6"})])],512),s("button",{class:"mx-2",onClick:a[1]||(a[1]=(...e)=>o.reset&&o.reset(...e))},[i(g(N),{class:"text-white h-6 w-6"})])])]),s("aside",P,[I,i(_,{modelValue:t.map.options.style.value,"onUpdate:modelValue":a[2]||(a[2]=e=>t.map.options.style.value=e),options:t.map.options.style.options},{default:r(({name:e})=>[p(u(e),1)]),option:r(({name:e})=>[p(u(e),1)]),_:1},8,["modelValue","options"]),i(_,{modelValue:t.map.options.projection.value,"onUpdate:modelValue":a[3]||(a[3]=e=>t.map.options.projection.value=e),options:t.map.options.projection.options},{default:r(({name:e})=>[p(u(e),1)]),option:r(({name:e})=>[p(u(e),1)]),_:1},8,["modelValue","options"])])]))}},Y=h(C,[["__scopeId","data-v-1d55e80a"]]);export{Y as default};
